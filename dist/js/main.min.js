var apod={randomDate:function(t,e){let a=new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())),o=a.getDate(),i=a.getMonth()+1;return i<10&&(i="0"+i),o<10&&(o="0"+o),`${a.getFullYear()}-${i}-${o}`},init:function(){this.getRequest()},getRequest:function(){var t=this.randomDate(new Date(1995,5,16),new Date),e="https://api.nasa.gov/planetary/apod?api_key="+nasakey+"&date="+t;$.ajax({url:e}).done(function(t){apod.buildDOM(t),console.log(t)}).fail(function(t){console.log(t)})},buildDOM:function(t){$("#apodTitle").text(t.title),"video"===t.media_type?($("#apodImg").hide(),$("#apodVideo > iframe").attr("src",t.url).show()):($("#apodVideo > iframe").hide(),$("#apodImg").attr("src",t.url).attr("alt",t.title)),$("#apodCopyright").text("Copyright: "+t.copyright),$("#apodDate").text("Date: "+t.date),$("#apodDesc").text(t.explanation),$("#apodurl").text(t.url)}};apod.init(),document.getElementById("btnRandApod").addEventListener("click",function(){apod.getRequest()});